ServerName localhost
LoadModule ssl_module modules/mod_ssl.so

<IfModule mod_ssl.c>
        <VirtualHost *:80>
        ServerAdmin webmaster@localhost
        DocumentRoot "/var/www/html"

        ErrorLog "/var/log/apache2/error.log"
        CustomLog "/var/log/apache2/access.log" combined

        RewriteEngine On
        RewriteCond %{HTTPS} off
        RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

    </VirtualHost>

    <VirtualHost *:443>
        ServerAdmin webmaster@localhost
        DocumentRoot "/var/www/html"

        ErrorLog "/var/log/apache2/error.log"
        CustomLog "/var/log/apache2/access.log" combined

        SSLEngine on
        SSLCertificateFile "/etc/apache2/ssl/certificate.crt"
        SSLCertificateKeyFile "/etc/apache2/ssl/private.key"
        # SSLCertificateChainFile /etc/apache2/ssl/chain.crt

        <FilesMatch "\.(cgi|shtml|phtml|php)$">
            SSLOptions +StdEnvVars
        </FilesMatch>
        <Directory /usr/lib/cgi-bin>
            SSLOptions +StdEnvVars
        </Directory>
        BrowserMatch "MSIE [2-6]" \
            nokeepalive ssl-unclean-shutdown \
            downgrade-1.0 force-response-1.0
        BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown

    </VirtualHost>
</IfModule>



